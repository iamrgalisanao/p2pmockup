<VirtualHost *:80>
    ServerName app.abbadev.com
    ServerAdmin webmaster@abbadev.com
    
    # Root directory for the React SPA
    DocumentRoot /var/www/p2pmockup/frontend/dist

    <Directory /var/www/p2pmockup/frontend/dist>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Alias for API handling
    Alias /api /var/www/p2pmockup/backend/public
    <Directory /var/www/p2pmockup/backend/public>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    # Logging
    ErrorLog ${APACHE_LOG_DIR}/p2p_error.log
    CustomLog ${APACHE_LOG_DIR}/p2p_access.log combined

    # Optional: Enable Gzip
    <IfModule mod_deflate.c>
        AddOutputFilterByType DEFLATE text/html text/plain text/xml text/css text/javascript application/javascript application/json
    </IfModule>
</VirtualHost>
